<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<style>
    .pagination {
        display: inline-block;
    }

    .pagination a {
        color: black;
        float: left;
        padding: 5px 5px;
        text-decoration: none;
    }

    .pagination a.active {
        background-color: gray;
        color: white;
        border-radius: 2px;
    }
    table {
        border-collapse: collapse;
    }

    td, th {
        border: 1px solid black;
        padding: 8px; /* Добавьте отступы для контента */
    }
</style>
<head>
    <meta charset="UTF-8">
    <title>Список книг</title>
</head>
<body>
<form th:method="GET" th:action="@{/books}">
    <label for="booksPerPage">Книг на странице:</label>
    <select name="booksPerPage" id="booksPerPage">
        <option value="5" th:selected="${bookPage.size == 5}">5</option>
        <option value="10" th:selected="${bookPage.size == 10}">10</option>
        <option value="15" th:selected="${bookPage.size == 15}">15</option>
        <option value="20" th:selected="${bookPage.size == 20}">20</option>
    </select>
    <button type="submit">Выбрать</button>
</form>
<br/>
<table>
    <thead>
    <tr>
        <th th:text="'Название книги'" />
        <th th:text="'ФИО автора'" />
        <th th:text="'Год издания'" />
    </tr>
    </thead>
    <tbody>
    <tr th:each="book : ${bookPage}">
        <td>
            <a th:href = "@{/books/{id}(id=${book.getId()})}"
               th:text="${book.getName()}"/></td>
        <td th:text="${book.getAuthor()}" />
        <td th:text="${book.getYear()}" />
    </tr>
    </tbody>
</table>
<br/>
<div th:if="${bookPage.totalPages > 0}" class="pagination"
     th:each="pageNumber : ${pageNumbers}">
    <a th:href="@{'/books'+'?page='+${pageNumber}+'&booksPerPage='+${bookPage.size}}"
       th:text="${pageNumber}"
       th:class="${pageNumber==bookPage.number + 1} ? active"></a>
</div>
<br/>
<hr/>
<a href="/books/new">Добавить книгу</a>
<br/><br/>
<a href="index.jsp">Назад</a>
</body>
</html>